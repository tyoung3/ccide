# @configure_input@

Name: ccide
##Prefix:         /usr
Version:        @VERSION@
Release: 	@RELEASE@
License: GPL

Group: Development/Tools
URL: http://www.ccide.com
Summary: Decision Table Code Generator
Packager: The CCIDE Project <ccide@twyoung.com>

#Requires: gcc m4
Source: ftp://ftp.twyoung.com/pub/linux/ccide/ccide-%{version}-%{release}.tar.gz
BuildRoot: /var/tmp/%{name}-%{version} 
Vendor:  The CCIDE Project
%description 
This package contains ccide, the Decision Table code generator.
ccide reads a file containing source code (in one of several languages)
with embedded decision tables and creates a compilable program or an interpretable script.
%define ccidev ccide-%{version}
#CHANGE LOG:
%prep
%setup -q 
%build
./configure
make 
%install
rm -rf $RPM_BUILD_ROOT
mkdir -p $RPM_BUILD_ROOT/usr/man/man1
mkdir -p $RPM_BUILD_ROOT/usr/{bin,lib,include,man,share}
mkdir -p $RPM_BUILD_ROOT/usr/share/doc
mkdir -p $RPM_BUILD_ROOT/usr/share/ccide
mkdir -p $RPM_BUILD_ROOT/usr/share/doc/%{ccidev}
#mkdir -p $RPM_BUILD_ROOT/usr/share/doc/%{ccidev}/tests
#mkdir -p $RPM_BUILD_ROOT/usr/share/doc/%{ccidev}/tests/config
#mkdir -p $RPM_BUILD_ROOT/usr/share/doc/%{ccidev}/tests/ccide.test

##install -s -m 755 libccide.so.0 $RPM_BUILD_ROOT/usr/lib/libccide.so.0
##ln -s /usr/lib/libccide.so.0 $RPM_BUILD_ROOT/usr/lib/libccide.so
##install -s -m 755 ccide.h $RPM_BUILD_ROOT/usr/include
install -m 755 ccide $RPM_BUILD_ROOT/usr/bin/ccide
install -s -m 755 ccidew $RPM_BUILD_ROOT/usr/bin/ccidew
install -m 644 ccide-BASH.m4 $RPM_BUILD_ROOT/usr/share/ccide/ccide-BASH.m4
install -m 644 ccide-VB.m4 $RPM_BUILD_ROOT/usr/share/ccide/ccide-VB.m4
install -m 644 ccide-QB.m4 $RPM_BUILD_ROOT/usr/share/ccide/ccide-QB.m4
install -m 644 ccide-BASIC.m4 $RPM_BUILD_ROOT/usr/share/ccide/ccide-BASIC.m4
install -m 644 ccide-C.m4 $RPM_BUILD_ROOT/usr/share/ccide/ccide-C.m4
install -m 644 ccide-CC.m4 $RPM_BUILD_ROOT/usr/share/ccide/ccide-CC.m4
install -m 644 ccide-C++.m4 $RPM_BUILD_ROOT/usr/share/ccide/ccide-C++.m4
install -m 644 ccide-CS.m4 $RPM_BUILD_ROOT/usr/share/ccide/ccide-CS.m4
install -m 644 ccide-JAVA.m4 $RPM_BUILD_ROOT/usr/share/ccide/ccide-JAVA.m4
install -m 644 ccide.1 $RPM_BUILD_ROOT/usr/man/man1/ccide.1
install -m 644 COPYING $RPM_BUILD_ROOT/usr/share/doc/%{ccidev}/COPYING
install -m 644 ChangeLog $RPM_BUILD_ROOT/usr/share/doc/%{ccidev}/ChangeLog
install -m 644 README $RPM_BUILD_ROOT/usr/share/doc/%{ccidev}/README

%clean
##  ? advisability rm -rf $RPM_BUILD_ROOT
echo Consider doing: "rm -rf $RPM_BUILD_ROOT"

%files
@prefix@/bin/ccide
@prefix@/bin/ccidew
@prefix@/share/ccide/ccide-BASH.m4
@prefix@/share/ccide/ccide-C.m4
@prefix@/share/ccide/ccide-CC.m4
@prefix@/share/ccide/ccide-C++.m4
@prefix@/share/ccide/ccide-CS.m4
@prefix@/share/ccide/ccide-BASIC.m4
@prefix@/share/ccide/ccide-VB.m4
@prefix@/share/ccide/ccide-QB.m4
@prefix@/share/ccide/ccide-JAVA.m4
# @prefix@/include/ccide.h
# @prefix@/lib/libccide.so
#@prefix@/lib/libccide.so.0

%ghost

%doc
@prefix@/man/man1/ccide.1.gz
@prefix@/share/doc/%{ccidev}/COPYING
@prefix@/share/doc/%{ccidev}/README
@prefix@/share/doc/%{ccidev}/ChangeLog

%config

%triggerin --

%post 
